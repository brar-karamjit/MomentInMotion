{% extends 'base.html' %}
{% load static %}
{% block title %}Home - MomentInMotion{% endblock %}

{% block content %}
<div class="container">
    <h2>Welcome, {{ user.first_name }}!</h2>
    <p>Current weather: <span id="temperature">Not available</span></p>

    <form method="POST" class="suggestion-form">
        {% csrf_token %}
        <input type="hidden" name="lat" id="lat">
        <input type="hidden" name="lon" id="lon">
        <input type="hidden" name="temperature" id="temperature_input">
        <input type="hidden" name="weathercode" id="weather_text_input">
        <button type="submit" name="action" value="get_suggestion">Get Suggestion</button>
    </form>

    {% if suggestion_data %}
        <h3>Suggestion activity:</h3>
        <div class="suggestion">{{ suggestion_data.response|linebreaks }}</div>
    {% endif %}
</div>

<script src="{% static 'js/home.js' %}"></script>
{% endblock %}
